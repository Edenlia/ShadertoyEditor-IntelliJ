<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.edenlia.shadertoyeditor</id>
    <name>ShadertoyEditor</name>
    <vendor>edenlia</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.kotlin</depends>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <toolWindow id="Shadertoy" factoryClass="com.github.edenlia.shadertoyeditor.toolWindow.ShadertoyWindowFactory"/>
        <toolWindow id="ShadertoyConsole" factoryClass="com.github.edenlia.shadertoyeditor.toolWindow.ShadertoyOutputWindowFactory" anchor="right"/>
        <postStartupActivity implementation="com.github.edenlia.shadertoyeditor.startup.MyProjectActivity" />
        
        <!-- Shadertoy项目自动加载 -->
        <postStartupActivity implementation="com.github.edenlia.shadertoyeditor.startup.ShadertoyProjectLoader" />
        
        <!-- Settings 配置页面 -->
        <applicationConfigurable 
            groupId="tools" 
            displayName="Shadertoy Editor" 
            id="shadertoy.editor.settings"
            instance="com.github.edenlia.shadertoyeditor.settings.ShadertoyConfigurable"/>
    </extensions>
    <actions>
        <action id="shadertoy.HelloWorldAction" class="HelloWorldAction" text="HelloWorldAction">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl H"/>
        </action>
        
        <!-- 编译Shadertoy项目 -->
        <action id="ShadertoyEditor.CompileShader" 
                class="com.github.edenlia.shadertoyeditor.actions.CompileShadertoyAction"
                text="Compile Shadertoy Project"
                description="Compile the current active Shadertoy project">
            <!-- Mac: Command+Control+R -->
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="control meta 2"/>
            <!-- Windows/Linux: Control+Alt+R -->
            <keyboard-shortcut keymap="$default" first-keystroke="control alt 2"/>
        </action>
    </actions>
</idea-plugin>
